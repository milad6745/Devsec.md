ุฎู ุนุงู ูพุฑุณุฏ ๐ ุจุฑู ูุฑุญูู ุจู ูุฑุญูู ุฏุฑุจุงุฑูโ **gVisor** ุชูุถุญ ุจุฏู:

---

## ๐งฉ gVisor ฺูุ

* **gVisor** ฺฉ **container sandbox** ูุณุช ฺฉู ุชูุณุท **Google** ุณุงุฎุชู ุดุฏู.
* ูุฏูุด ุงูู ฺฉู ููุช ู ฺฉุงูุชูุฑ (ูุซู Docker) ุงุฌุฑุง ูโุดูุ ุงููุช ุจุดุชุฑ ุฏุงุดุชู ุจุงุดู.
* ุจู ุฌุง ุงูฺฉู ฺฉุงูุชูุฑ ูุณุชููุงู ุงุฒ **Linux Kernel Host** ุงุณุชูุงุฏู ฺฉููุ gVisor ุจู ฺฉุงูุชูุฑ ู ฺฉุฑูู ูุฑุงุฑ ูโฺฏุฑู ู ููุด ู **ูุงู ูุงู (User-Space Kernel)** ุฑู ุจุงุฒ ูโฺฉูู.

ุนู ฺุ
๐น ฺฉุงูุชูุฑ ุฏุฑุฎูุงุณุช ุณุณุชู (syscall) ูโุฏู โ gVisor ูโฺฏุฑู โ ุชุตูู ูโฺฏุฑู ุขุง ุงุฌุงุฒู ุจุฏู ุง ูู โ ุงฺฏู ุงูฺฉ ุจูุฏ ุจู ฺฉุฑูู ูุงูุน ูโูุฑุณุชู.

---

## ๐ฏ ฺฉุงุฑ gVisor ฺูุ

1. **ุงููุช ุจุดุชุฑ ุจุฑุง ฺฉุงูุชูุฑูุง**

   * ุจุงุนุซ ูโุดู ุงฺฏู ฺฉ ฺฉุงูุชูุฑ ูฺฉ ุดุฏุ ูุชููู ูุณุชูู ุจู ฺฉุฑูู ุฏุณุชุฑุณ ูพุฏุง ฺฉูู.
   * ุดุจู **VM ุงููุช ุณุจฺฉ** ุนูู ูโฺฉููุ ูู ุฎู ุณุฑุนโุชุฑ ู ฺฉูโูุฒููโุชุฑ ุงุฒ VM.

2. **ุฌุฏุงุณุงุฒ (Isolation)**

   * ุฌุฏุงุณุงุฒ ููโุชุฑ ุงุฒ namespaces ูุนููู Docker.
   * ุญููุงุช ูุซู escape ุงุฒ ฺฉุงูุชูุฑ ุฎู ุณุฎุชโุชุฑ ูโุดู.

3. **ุณุงุฒฺฏุงุฑ ุจุง Docker ู Kubernetes**

   * ุจู ุฑุงุญุช ูโุชูู ุจฺฏ ููุงู ฺฉุงูุชูุฑ ุจุง **gVisor runtime** ุงุฌุฑุง ุจุดู.

---

## โ๏ธ ุทุฑุฒ ูุตุจ gVisor

ุฑู ูููฺฉุณ (ูุซูุงู Ubuntu) ูโุชูู ุงูุทูุฑ ูุตุจุด ฺฉู:

```bash
# ุฏุงูููุฏ ู ูุตุจ gVisor
curl -fsSL https://gvisor.dev/install.sh | sh

# ูุตุจ ุจู ุนููุงู ฺฉ runtime ุจุฑุง docker
sudo cp runsc /usr/local/bin

# ุงุถุงูู ฺฉุฑุฏู runtime ุฌุฏุฏ ุจู Docker
sudo nano /etc/docker/daemon.json
```

ุฏุงุฎูุด ุงูู ุงุถุงูู ูโฺฉู:

```json
{
  "runtimes": {
    "runsc": {
      "path": "/usr/local/bin/runsc"
    }
  }
}
```

ุจุนุฏ ุฑุณุชุงุฑุช Docker:

```bash
sudo systemctl restart docker
```

---

## ๐ ูุญูู ุงุฌุฑุง

ุญุงูุง ูโุชูู ฺฉ ฺฉุงูุชูุฑ ุฑู ุจุง gVisor ุงุฌุฑุง ฺฉู:

```bash
docker run --rm -it --runtime=runsc alpine sh
```

๐น ุงูุฌุง `--runtime=runsc` ุจู Docker ูโฺฏู ุงุฒ gVisor ุงุณุชูุงุฏู ฺฉูู.

---

## ๐ ูุซุงู ฺฉุงุฑุจุฑุฏ

ูุฑุถ ฺฉู ฺฉ ุณุฑูุณ **Nginx** ุฑู ูโุฎูุง ุงุฌุฑุง ฺฉู:

```bash
docker run --rm -d --runtime=runsc -p 8080:80 nginx
```

* ุงฺฏู ฺฉุณ ุชููุณุช ุงุฒ Nginx exploit ุจฺฏุฑู ู ุจุฎูุงุฏ ุจู ุณุณุชู ุฏุณุชุฑุณ ูพุฏุง ฺฉููุ
* ุจุง gVisor ฺฏุฑ ูโฺฉูู ุชู ูููู sandbox ู ููโุชููู ุจู ฺฉุฑูู ุง ุจูู ฺฉุงูุชูุฑูุง ุฏุณุช ุจุฒูู.

---

## ๐ ุฌูุนโุจูุฏ

* **ฺ ูุณุชุ** โ ฺฉ sandbox (ฺฉุฑูู ูุฌุงุฒ ุฏุฑ user-space) ุจุฑุง ฺฉุงูุชูุฑูุง.
* **ฺฉุงุฑุด ฺูุ** โ ุงูุฒุงุด ุงููุช ู ุฌุฏุงุณุงุฒ ฺฉุงูุชูุฑูุง ุจุง ฺฉูุชุฑู syscalls.
* **ูุตุจุ** โ ุจุง ูุตุจ `runsc` ู ุงุถุงูู ฺฉุฑุฏู ุจู Docker/Kubernetes.
* **ูุซุงูุ** โ ุงุฌุฑุง Nginx ุง Alpine ุฏุฑ ุญุงูุช ุงูู ุจุง `--runtime=runsc`.

---

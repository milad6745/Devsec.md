
---

## گزینه `--privileged` در Docker

**تعریف:**
زمانی که یک کانتینر با گزینه `--privileged` اجرا می‌شود، دسترسی‌های امنیتی معمول Docker برداشته می‌شوند و کانتینر تقریباً مانند یک پروسه **root روی سیستم میزبان** عمل می‌کند.

**کاربردها:**

* دسترسی کامل به دستگاه‌های سخت‌افزاری (`/dev`)
* بارگذاری ماژول‌های کرنل
* تغییر تنظیمات شبکه
* دسترسی یا تغییر فایل‌های حساس سیستم میزبان

**هشدار:**
استفاده از `--privileged` امنیت سیستم را به شدت کاهش می‌دهد. فقط در صورت ضرورت و با احتیاط باید استفاده شود.

---

### مثال عملی با BusyBox

هدف: خواندن فایل `/etc/passwd` میزبان از داخل کانتینر

```bash
docker run --rm -it --privileged -v /:/host busybox sh
```

توضیح:

* `-v /:/host` → کل ریشه سیستم میزبان داخل کانتینر mount می‌شود.
* `--privileged` → کانتینر محدودیت‌های امنیتی ندارد.

داخل کانتینر:

```sh
cat /host/etc/passwd
```

نتیجه:

* محتوای فایل `/etc/passwd` میزبان نمایش داده می‌شود.
* بدون `--privileged` یا بدون mount کردن `/`، این کار محدود یا غیرممکن است.

---


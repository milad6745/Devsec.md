ุฏุฑ ุฏูุง ุฏุงฺฉุฑุ **Docker sign** ุง ุงูุถุง ุฏุงฺฉุฑุ ุจู ูุฑุขูุฏ ฺฏูุชู ูโุดูุฏ ฺฉู ุฏุฑ ุขู ฺฉ *ุงูุฌ ุฏุงฺฉุฑ* ุจุง ฺฉ **ุงูุถุง ุฏุฌุชุงู** ููุฑ ูโุดูุฏ ุชุง ุฏฺฏุฑุงู ุจุชูุงููุฏ ุตุญุช ู ุงุตุงูุช ุขู ุฑุง ุจุฑุฑุณ ฺฉููุฏ.

ูุฏู ุงุตูโุงุด ุงู ุงุณุช ฺฉู:

* ูุทูุฆู ุดูู ุงูุฌ ฺฉู ุฏุงูููุฏ ูโฺฉูู **ุฏุณุชฺฉุงุฑ ูุดุฏู** (ุชูุงูุช ุง integrity).
* ูุทูุฆู ุดูู ุงูุฌ ุงุฒ ุทุฑู **ุณุงุฒูุฏูโ ูุนุชุจุฑ** ุขูุฏู (ุงุญุฑุงุฒ ููุช ุง authenticity).

---

### ฺฺฏููู ฺฉุงุฑ ูโฺฉูุฏุ

ููุช ุดูุง ฺฉ ุงูุฌ ุฑุง ุจุง `docker sign` (ุง ุงุจุฒุงุฑูุง ุฌุฏุฏุชุฑ ูุซู **cosign** ุง **Notary**) ุงูุถุง ูโฺฉูุฏ:

1. **ฺฉูุฏ ุฎุตูุต** ุดูุง ุจุฑุง ุชููุฏ ุงูุถุง ุงุณุชูุงุฏู ูโุดูุฏ.
2. ุงู ุงูุถุง ููุฑุงู ุจุง ูุชุงุฏุชุง ุฑู ุฑุฌุณุชุฑ (ูุซู Docker Hub) ุฐุฎุฑู ูโุดูุฏ.
3. ูุฑฺฉุณ ฺฉู ุงูุฌ ุฑุง ูโฺฏุฑุฏุ ูโุชูุงูุฏ ุจุง **ฺฉูุฏ ุนููู** ุดูุง ุขู ุฑุง ุงุนุชุจุงุฑุณูุฌ ฺฉูุฏ.

---

### ุงุจุฒุงุฑูุง ู ูุณุฎูโูุง

* **Docker Content Trust (DCT)**: ุงู ูุงุจูุช ุฏุฑ ุฏุงฺฉุฑ ฺฉูุงุณฺฉ ุจุง ูุฑูุงู `docker trust sign` ูพุงุฏูโุณุงุฒ ุดุฏู ุจูุฏ ู ูพุดุชโุตุญูู ุงุฒ **Notary** ุงุณุชูุงุฏู ูโฺฉุฑุฏ.
* **cosign / sigstore**: ูพุฑูฺูโูุง ุฌุฏุฏุชุฑ ฺฉู ุฑูุดโูุง ุณุงุฏูโุชุฑ ู ฺฉูพุงุฑฺูโุชุฑ ุจุฑุง ุงูุถุง ุงูุฌโูุง ุงุฑุงุฆู ูโุฏููุฏ.

---

### ูุซุงู ุณุงุฏู ุจุง Docker Content Trust

```bash
export DOCKER_CONTENT_TRUST=1
docker sign myimage:latest
```

ุงู ุจุงุนุซ ูโุดูุฏ ฺฉู ุฏุงฺฉุฑ ูุจู ุงุฒ push ฺฉุฑุฏูุ ุงูุฌ ุฑุง ุงูุถุง ฺฉูุฏ.

---

### ฺุฑุง ููู ุงุณุชุ

ุจุฏูู ุงูุถุงุ ุดูุง ููโุชูุงูุฏ ูุทูุฆู ุจุงุดุฏ ุงูุฌ ฺฉู ูโฺฉุดุฏุ ุฏููุง ููุงู ุงุณุช ฺฉู ุณุงุฒูุฏู ุงุตู ููุชุดุฑ ฺฉุฑุฏู.
ุฏุฑ ุณูุงุฑููุง ุงููุช (DevOpsุ Kubernetesุ CI/CD)ุ ุงูุถุง ุงูุฌโูุง ฺฉ ุงุฒ ูุฑุงุญู ููู ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุญููุงุช supply chain ุงุณุช.

---





ุจุงุดูุ ูพุณ ุจุฑู ุจุง **cosign** ูุฏูโุจูโูุฏู ุงุฏ ุจฺฏุฑู ฺฉู ฺุทูุฑ ฺฉ ุงูุฌ ุฑู:

1. **Sign** ฺฉูู
2. **Push** ฺฉูู
3. ุจุนุฏุงู **Verify** ฺฉูู

---

## 1๏ธโฃ ูุตุจ cosign

ุงฺฏุฑ ูุตุจุด ูฺฉุฑุฏ:

```bash
# ูููฺฉุณ ุง ูฺฉ
curl -sSL https://github.com/sigstore/cosign/releases/latest/download/cosign-linux-amd64 \
    -o cosign && chmod +x cosign && sudo mv cosign /usr/local/bin/
```

ุจุฑุง ูฺฉ `cosign-darwin-amd64` ุง ุจุฑุง ููุฏูุฒ ูุณุฎู `.exe` ุฑู ุจฺฏุฑ.

---

## 2๏ธโฃ ุณุงุฎุช ฺฉูุฏ ุงูุถุง

```bash
cosign generate-key-pair
```

ุงู ุฏู ูุงู ุงุฌุงุฏ ูโฺฉูู:

* `cosign.key` โ ฺฉูุฏ ุฎุตูุต (ูุฒุฏ ุฎูุฏุช ู ูุญุฑูุงูู)
* `cosign.pub` โ ฺฉูุฏ ุนููู (ุจุฑุง ุงุนุชุจุงุฑุณูุฌ ุงุณุชูุงุฏู ูโุดู)

ูโุชูู ุฑูุฒ ูู ุฑู ฺฉูุฏ ุฎุตูุต ุจุฐุงุฑ.

---

## 3๏ธโฃ Sign ฺฉุฑุฏู ุงูุฌ

ูุฑุถ ฺฉูู ุงูุฌ ุฑู ุณุงุฎุช ู ุชฺฏ ฺฉุฑุฏ:

```bash
docker build -t yourrepo/yourimage:1.0 .
```

ุญุงูุง ุจุง cosign ุงูุถุง ฺฉู:

```bash
cosign sign --key cosign.key yourrepo/yourimage:1.0
```

* `yourrepo/yourimage:1.0` ูููู ุงูุฌ ูุณุช ฺฉู ูุฑุงุฑู ุฑู Docker Hub ุง ุฑุฌุณุชุฑ ุฎุตูุต ุจุงุดู.
* ุงู ุฏุณุชูุฑ ุงูุถุง ุฑู ุจูโุนููุงู artifact ุฏุฑ ุฑุฌุณุชุฑ ุฐุฎุฑู ูโฺฉูู.

---

## 4๏ธโฃ Pull ฺฉุฑุฏู ุงูุฌ (ุจุนุฏุงู ุง ุฑู ฺฉ ุณุณุชู ุฏฺฏู)

```bash
docker pull yourrepo/yourimage:1.0
```

ุงู ููุท ุฎูุฏ ุงูุฌ ุฑู ูโฺฉุดูุ ูู ุงูุถุงุด. ูู ุงูุถุง ููฺูุงู ุฑู ุฑุฌุณุชุฑ ุฐุฎุฑู ุดุฏู.

---

## 5๏ธโฃ Verify ฺฉุฑุฏู ุงูุฌ

```bash
cosign verify --key cosign.pub yourrepo/yourimage:1.0
```

ุงฺฏุฑ ุงูุถุง ูุนุชุจุฑ ุจุงุดูุ ฺุฒ ุดุจู ุงู ูโุจู:

```
Verification for yourrepo/yourimage:1.0 --
The following checks were performed on each of these signatures:
  - The cosign claims were validated
  - Existence of the claims in the transparency log
  - Certificate issuer matches expected
```

---

๐ก **ูฺฉุชูโูุง**

* ุงฺฏุฑ ุจุฎูุง ุจุฏูู ูุฏุฑุช ฺฉูุฏ ููฺฉุงู ฺฉุงุฑ ฺฉูุ cosign ุงุฒ **keyless signing** ูู ูพุดุชุจุงู ูโฺฉูู ฺฉู ุจุง GitHub OIDC ุง Google login ุงูุฌุงู ูโุดู (ฺฉูุฏ ูููุช ูโุณุงุฒู).
* ุจุฑุง ุงููุช ุจุดุชุฑุ ฺฉูุฏ ุฎุตูุต ุฑู ุฏุงุฎู **Vault** ุง HSM ูฺฏูโุฏุงุฑ.

---

ุงฺฏุฑ ุจุฎูุง ูโุชููู ู **workflow ฺฉุงูู GitHub Actions** ุจูุช ุจุฏู ฺฉู ุฎูุฏุด ุงูุฌ ุฑู ุจุณุงุฒูุ sign ฺฉููุ ู push ฺฉูู.
ุขุง ุจุฒูู ุงููู ุจุฑุงุช ุจุงุฑูุ

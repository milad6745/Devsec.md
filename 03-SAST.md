سلام! 🌟

حتماً، خوشحال می‌شم برات در مورد **SAST (Static Application Security Testing)** توضیح بدم و با مثال برات روشنش کنم.

---

### 🛡️ SAST چیست؟

**SAST** یا **تحلیل ایستا امنیتی برنامه**، یک روش برای بررسی **کد منبع، باینری یا bytecode** اپلیکیشن است **بدون اجرای برنامه**. این روش به دنبال کشف آسیب‌پذیری‌های امنیتی در مراحل ابتدایی چرخه توسعه نرم‌افزار (SDLC) است.

> یعنی قبل از این که برنامه‌ات اجرا بشه، SAST کد رو اسکن می‌کنه تا خطاهای امنیتی پیدا کنه.

---

### 🔍 چه چیزهایی رو پیدا می‌کنه؟

* SQL Injection
* Cross-Site Scripting (XSS)
* استفاده نادرست از توابع حساس
* رمزنگاری ضعیف
* نشت اطلاعات
* Hardcoded Passwords

---

### ✅ مزایای SAST:

* زودتر مشکلات امنیتی کشف می‌شن (در مرحله کدنویسی)
* به کدنویس بازخورد مستقیم می‌ده
* نیازی به اجرای برنامه نیست
* با CI/CD قابل یکپارچه‌سازیه

---

### ❌ محدودیت‌ها:

* نمی‌تونه آسیب‌پذیری‌هایی که در زمان اجرا (runtime) ظاهر می‌شن رو پیدا کنه
* گاهی **false positive** (هشدار اشتباه) می‌ده
* ممکنه پیکربندی اولیه‌اش زمان‌بر باشه

---

### 🔧 ابزارهای معروف SAST:

* **SonarQube**
* **Fortify**
* **Checkmarx**
* **Veracode Static Analysis**
* **Semgrep**
* **Bandit (برای Python)**
* **ESLint (برای JavaScript)** + افزونه‌های امنیتی

---

### 📌 مثال واقعی:

فرض کن یه برنامه Node.js داری که ورودی کاربر رو مستقیماً در query دیتابیس استفاده می‌کنه:

```javascript
app.get('/user', function(req, res) {
    const userId = req.query.id;
    db.query("SELECT * FROM users WHERE id = " + userId, function(err, result) {
        if (err) throw err;
        res.send(result);
    });
});
```

🔍 این کد مستعد **SQL Injection** هست.

اگر با ابزار SAST مثل **Semgrep** یا **SonarQube** این کد رو اسکن کنی، پیغام هشداری مثل این ممکنه دریافت کنی:

> ❗️Potential SQL Injection - user-controlled input used directly in SQL query.

---

### 🎯 خروجی SAST به چه صورت است؟

معمولاً گزارشی است که شامل:

* نوع آسیب‌پذیری
* محل دقیق آن در کد (فایل و خط)
* شدت آسیب‌پذیری (High / Medium / Low)
* پیشنهاد برای رفع مشکل

--
ابزار **Horusec** یک **ابزار متن‌باز SAST** هست که برای تحلیل ایستا و بررسی امنیتی کد منبع استفاده می‌شه، به‌ویژه برای کشف آسیب‌پذیری‌های امنیتی در مرحله توسعه نرم‌افزار.

---

### 🦉 Horusec چیست؟

**Horusec**:

* ابزار متن‌باز (Open Source)
* توسط شرکت Zup Innovation توسعه داده شده
* با زبان Go نوشته شده
* می‌تونه چندین زبان برنامه‌نویسی (و ابزار تحلیل دیگر) رو با هم یکپارچه کنه
* به‌خوبی در CI/CD و GitOps قابل استفاده‌ست

---

### 🔍 چه کاری انجام می‌ده؟

Horusec به صورت **SAST** (Static Application Security Testing) کار می‌کنه:

| ویژگی                        | توضیح                                               |
| ---------------------------- | --------------------------------------------------- |
| 🔎 تحلیل ایستا               | بدون اجرای برنامه، کد رو اسکن می‌کنه                |
| 🧠 شناسایی آسیب‌پذیری‌ها     | مثل SQL Injection، XSS، رمز عبور هاردکد شده و...    |
| 🌐 پشتیبانی از چند زبان      | Python، JavaScript، Java، Go، C#, Ruby و...         |
| 🧰 پشتیبانی از ابزارهای دیگر | مثل Bandit، Brakeman، NPM Audit، Gosec، ESLint و... |

---

### 📦 نصب Horusec:

نیاز به Docker داره. نصب سریع:

```bash
curl -fsSL https://horusec.io/bin/install.sh | bash
```

یا:

```bash
go install github.com/ZupIT/horusec@latest
```

---

### 🧪 اسکن پروژه:

```bash
horusec start -p .
```

یا اگر Git repository نیستی:

```bash
horusec start -p . --disable-git-history
```

---

### 📁 ساختار خروجی:

* اطلاعات آسیب‌پذیری‌ها
* فایل و خط کدی که مشکل داره
* توضیح و پیشنهاد رفع
* severity (High/Medium/Low)

---

### ✅ مزایای Horusec:

* متن‌باز و رایگان
* پشتیبانی از چند زبان و ابزار
* نصب و راه‌اندازی سریع
* قابل استفاده در CI/CD
* گزارش کامل با پیشنهادهای امنیتی

---

### ❌ معایب یا محدودیت‌ها:

* گاهی false-positive دارد
* نصبش به Docker یا ابزارهای جانبی نیاز داره
* نسبت به ابزارهای تجاری مثل Fortify یا Checkmarx محدودتره

---

### 🛠 مثال ساده استفاده:

```bash
horusec start -p ./my-project
```

📌 اگر پروژه‌ات git repository نیست، این پرچم رو اضافه کن:

```bash
--disable-git-history
```

---

اگه خواستی، می‌تونم یه اسکن واقعی با Horusec روی همون کدی که قبلاً ساختیم انجام بدیم یا فایل‌های JSON گزارشش رو بررسی کنیم. بگی تا برات آماده کنم.

